# HG changeset patch
# Parent 5c16edf32243c8bd9ab25bb4883abeb8782fc636
Bug 692409 - Add a pretty resizer and the dark theme to the debugger - try: -b do -p win32 -u none -t none

diff --git a/browser/devtools/debugger/DebuggerUI.jsm b/browser/devtools/debugger/DebuggerUI.jsm
--- a/browser/devtools/debugger/DebuggerUI.jsm
+++ b/browser/devtools/debugger/DebuggerUI.jsm
@@ -158,17 +158,17 @@ DebuggerPane.prototype = {
    */
   _create: function DP__create() {
     this._tab._scriptDebugger = this;
 
     let gBrowser = this._tab.linkedBrowser.getTabBrowser();
     let ownerDocument = gBrowser.parentNode.ownerDocument;
 
     this._splitter = ownerDocument.createElement("splitter");
-    this._splitter.setAttribute("class", "hud-splitter");
+    this._splitter.setAttribute("class", "devtools-horizontal-splitter");
 
     this._frame = ownerDocument.createElement("iframe");
     this._frame.height = DebuggerPreferences.height;
 
     this._nbox = gBrowser.getNotificationBox(this._tab.linkedBrowser);
     this._nbox.appendChild(this._splitter);
     this._nbox.appendChild(this._frame);
 
diff --git a/browser/devtools/debugger/debugger.xul b/browser/devtools/debugger/debugger.xul
--- a/browser/devtools/debugger/debugger.xul
+++ b/browser/devtools/debugger/debugger.xul
@@ -19,16 +19,17 @@
    - Portions created by the Initial Developer are Copyright (C) 2011
    - the Initial Developer. All Rights Reserved.
    -
    - Contributor(s):
    -   Dave Camp <dcamp@mozilla.com>
    -   Panos Astithas <past@mozilla.com>
    -   Victor Porof <vporof@mozilla.com>
    -   Rob Campbell <rcampbell@mozilla.com>
+   -   Paul Rouget <paul@mozilla.com>
    -
    - Alternatively, the contents of this file may be used under the terms of
    - either the GNU General Public License Version 2 or later (the "GPL"), or
    - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
    - in which case the provisions of the GPL or the LGPL are applicable instead
    - of those above. If you wish to allow use of your version of this file only
    - under the terms of either the GPL or the LGPL, and not to allow others to
    - use your version of this file under the terms of the MPL, indicate your
@@ -53,17 +54,17 @@
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
 
   <script type="text/javascript" src="chrome://global/content/globalOverlay.js"/>
   <script type="text/javascript" src="debugger-controller.js"/>
   <script type="text/javascript" src="debugger-view.js"/>
 
   <popupset id="debugger-popups">
     <menupopup id="sourceEditorContextMenu"
-	       onpopupshowing="goUpdateSourceEditorMenuItems()">
+               onpopupshowing="goUpdateSourceEditorMenuItems()">
       <menuitem id="se-cMenu-copy"/>
       <menuseparator/>
       <menuitem id="se-cMenu-selectAll"/>
       <menuseparator/>
       <menuitem id="se-cMenu-find"/>
       <menuitem id="se-cMenu-findAgain"/>
       <menuseparator/>
       <menuitem id="se-cMenu-gotoLine"/>
@@ -74,36 +75,40 @@
   <commandset id="sourceEditorCommands"/>
   <keyset id="sourceEditorKeys"/>
 
   <vbox id="body" flex="1">
     <toolbar id="dbg-toolbar" class="devtools-toolbar">
 #ifdef XP_MACOSX
       <toolbarbutton id="close" class="devtools-closebutton"/>
 #endif
-      <button id="resume"
-                  class="devtools-toolbarbutton"
-                  type="checkbox"
-                  image="chrome://browser/skin/devtools/pause.png"
-                  tabindex="0"/>
-      <button id="step-over"
-                  class="devtools-toolbarbutton"
-                  label="&debuggerUI.stepOverButton;"
-                  tabindex="0"/>
-      <button id="step-in"
-                  class="devtools-toolbarbutton"
-                  label="&debuggerUI.stepInButton;"
-                  tabindex="0"/>
-      <button id="step-out"
-                  class="devtools-toolbarbutton"
-                  label="&debuggerUI.stepOutButton;"
-                  tabindex="0"/>
-      <menulist id="scripts" class="devtools-menulist"/>
-      <textbox id="scripts-search" type="search"
-	       emptytext="&debuggerUI.emptyFilterText;"/>
+      <toolbarbutton id="resume"
+                     class="devtools-toolbarbutton"
+                     type="checkbox"
+                     image="chrome://browser/skin/devtools/pause.png"
+                     tabindex="0"/>
+      <toolbarbutton id="step-over"
+                     class="devtools-toolbarbutton"
+                     label="&debuggerUI.stepOverButton;"
+                     tabindex="0"/>
+      <toolbarbutton id="step-in"
+                     class="devtools-toolbarbutton"
+                     label="&debuggerUI.stepInButton;"
+                     tabindex="0"/>
+      <toolbarbutton id="step-out"
+                     class="devtools-toolbarbutton"
+                     label="&debuggerUI.stepOutButton;"
+                     tabindex="0"/>
+      <menulist id="scripts"
+                class="devtools-menulist"
+                tabindex="0"/>
+      <textbox id="scripts-search"
+               type="search"
+               class="devtools-searchinput"
+               emptytext="&debuggerUI.emptyFilterText;"/>
       <spacer flex="1"/>
 #ifndef XP_MACOSX
       <toolbarbutton id="close" class="devtools-closebutton"/>
 #endif
     </toolbar>
     <hbox id="dbg-content" flex="1">
       <vbox id="stack" flex="1">
         <div id="stackframes" class="vbox flex"/>
diff --git a/browser/devtools/highlighter/TreePanel.jsm b/browser/devtools/highlighter/TreePanel.jsm
--- a/browser/devtools/highlighter/TreePanel.jsm
+++ b/browser/devtools/highlighter/TreePanel.jsm
@@ -163,16 +163,17 @@ TreePanel.prototype = {
     } catch(e) {
       treeBox.height = 112;
     }
 
     treeBox.minHeight = 64;
 
     this.splitter = this.document.createElement("splitter");
     this.splitter.id = "inspector-tree-splitter";
+    this.splitter.className = "devtools-horizontal-splitter";
 
     let container = this.document.getElementById("appcontent");
     container.appendChild(this.splitter);
     container.appendChild(treeBox);
 
     treeBox.appendChild(this.treeIFrame);
 
     this._boundLoadedInitializeTreePanel = function loadedInitializeTreePanel()
diff --git a/browser/themes/gnomestripe/browser.css b/browser/themes/gnomestripe/browser.css
--- a/browser/themes/gnomestripe/browser.css
+++ b/browser/themes/gnomestripe/browser.css
@@ -2384,18 +2384,8 @@ html|*#highlighter-nodeinfobar-pseudo-cl
 #inspector-treepanel-toolbutton:-moz-locale-dir(ltr) {
   border-radius: 3px 0 0 3px;
 }
 
 #inspector-breadcrumbs > .scrollbutton-down:-moz-locale-dir(ltr),
 #inspector-treepanel-toolbutton:-moz-locale-dir(rtl) {
   border-radius: 0 3px 3px 0;
 }
-
-#inspector-tree-splitter {
-  -moz-appearance: none;
-  border-top: 1px solid black;
-  border-bottom-width: 0;
-  min-height: 3px;
-  height: 3px;
-  margin-bottom: -3px;
-  position: relative;
-}
diff --git a/browser/themes/gnomestripe/devtools/common.css b/browser/themes/gnomestripe/devtools/common.css
--- a/browser/themes/gnomestripe/devtools/common.css
+++ b/browser/themes/gnomestripe/devtools/common.css
@@ -144,8 +144,20 @@
   margin-bottom: 0;
 }
 
 .devtools-closebutton > .toolbarbutton-icon {
   /* XXX Buttons have padding in widget/ that we don't want here but can't override with good CSS, so we must
      use evil CSS to give the impression of smaller content */
   margin: -4px;
 }
+
+/* Splitter */
+
+.devtools-horizontal-splitter {
+  -moz-appearance: none;
+  border-top: 1px solid black;
+  border-bottom-width: 0;
+  min-height: 3px;
+  height: 3px;
+  margin-bottom: -3px;
+  position: relative;
+}
diff --git a/browser/themes/gnomestripe/devtools/debugger.css b/browser/themes/gnomestripe/devtools/debugger.css
--- a/browser/themes/gnomestripe/devtools/debugger.css
+++ b/browser/themes/gnomestripe/devtools/debugger.css
@@ -45,28 +45,16 @@
 
 div,
 span,
 a {
   font: inherit;
 }
 
 /**
- * Debugger toolbar
- */
-
-#dbg-toolbar {
-  padding: 2px;
-}
-
-#dbg-toolbar > button {
-  text-align: center;
-}
-
-/**
  * Debugger content
  */
 
 #dbg-content {
   padding: 6px;
 }
 
 #dbg-content > * > .vbox {
diff --git a/browser/themes/pinstripe/browser.css b/browser/themes/pinstripe/browser.css
--- a/browser/themes/pinstripe/browser.css
+++ b/browser/themes/pinstripe/browser.css
@@ -3110,18 +3110,8 @@ html|*#highlighter-nodeinfobar-pseudo-cl
 #inspector-treepanel-toolbutton:-moz-locale-dir(ltr) {
   border-radius: @toolbarbuttonCornerRadius@ 0 0 @toolbarbuttonCornerRadius@;
 }
 
 #inspector-breadcrumbs > .scrollbutton-down:-moz-locale-dir(ltr),
 #inspector-treepanel-toolbutton:-moz-locale-dir(rtl) {
   border-radius: 0 @toolbarbuttonCornerRadius@ @toolbarbuttonCornerRadius@ 0;
 }
-
-#inspector-tree-splitter {
-  -moz-appearance: none;
-  border-top: 1px solid black;
-  border-bottom-width: 0;
-  min-height: 3px;
-  height: 3px;
-  margin-bottom: -3px;
-  position: relative;
-}
diff --git a/browser/themes/pinstripe/devtools/common.css b/browser/themes/pinstripe/devtools/common.css
--- a/browser/themes/pinstripe/devtools/common.css
+++ b/browser/themes/pinstripe/devtools/common.css
@@ -158,8 +158,20 @@
 
 .devtools-closebutton:hover {
   -moz-image-region: rect(0, 32px, 16px, 16px);
 }
 
 .devtools-closebutton:active {
   -moz-image-region: rect(0, 48px, 16px, 32px);
 }
+
+/* Splitter */
+
+.devtools-horizontal-splitter {
+  -moz-appearance: none;
+  border-top: 1px solid black;
+  border-bottom-width: 0;
+  min-height: 3px;
+  height: 3px;
+  margin-bottom: -3px;
+  position: relative;
+}
diff --git a/browser/themes/pinstripe/devtools/debugger.css b/browser/themes/pinstripe/devtools/debugger.css
--- a/browser/themes/pinstripe/devtools/debugger.css
+++ b/browser/themes/pinstripe/devtools/debugger.css
@@ -45,32 +45,16 @@
 
 div,
 span,
 a {
   font: inherit;
 }
 
 /**
- * Debugger toolbar
- */
-
-#dbg-toolbar {
-  padding: 2px;
-}
-
-#dbg-toolbar > button {
-  text-align: center;
-}
-
-#dbg-toolbar > button, menulist {
-  -moz-appearance: toolbarbutton;
-}
-
-/**
  * Debugger content
  */
 
 #dbg-content {
   padding: 6px;
 }
 
 #dbg-content > * > .vbox {
diff --git a/browser/themes/winstripe/browser.css b/browser/themes/winstripe/browser.css
--- a/browser/themes/winstripe/browser.css
+++ b/browser/themes/winstripe/browser.css
@@ -3046,18 +3046,8 @@ html|*#highlighter-nodeinfobar-pseudo-cl
 #inspector-treepanel-toolbutton:-moz-locale-dir(ltr) {
   border-radius: 3px 0 0 3px;
 }
 
 #inspector-breadcrumbs > .scrollbutton-down:-moz-locale-dir(ltr),
 #inspector-treepanel-toolbutton:-moz-locale-dir(rtl) {
   border-radius: 0 3px 3px 0;
 }
-
-#inspector-tree-splitter {
-  -moz-appearance: none;
-  border-top: 1px solid black;
-  border-bottom-width: 0;
-  min-height: 3px;
-  height: 3px;
-  margin-bottom: -3px;
-  position: relative;
-}
diff --git a/browser/themes/winstripe/devtools/common.css b/browser/themes/winstripe/devtools/common.css
--- a/browser/themes/winstripe/devtools/common.css
+++ b/browser/themes/winstripe/devtools/common.css
@@ -166,8 +166,20 @@
 
 .devtools-closebutton:hover {
   -moz-image-region: rect(0, 32px, 16px, 16px);
 }
 
 .devtools-closebutton:hover:active {
   -moz-image-region: rect(0, 48px, 16px, 32px);
 }
+
+/* Splitter */
+
+.devtools-horizontal-splitter {
+  -moz-appearance: none;
+  border-top: 1px solid black;
+  border-bottom-width: 0;
+  min-height: 3px;
+  height: 3px;
+  margin-bottom: -3px;
+  position: relative;
+}
diff --git a/browser/themes/winstripe/devtools/debugger.css b/browser/themes/winstripe/devtools/debugger.css
--- a/browser/themes/winstripe/devtools/debugger.css
+++ b/browser/themes/winstripe/devtools/debugger.css
@@ -45,28 +45,16 @@
 
 div,
 span,
 a {
   font: inherit;
 }
 
 /**
- * Debugger toolbar
- */
-
-#dbg-toolbar {
-  padding: 2px;
-}
-
-#dbg-toolbar > button {
-  text-align: center;
-}
-
-/**
  * Debugger content
  */
 
 #dbg-content {
   padding: 6px;
 }
 
 #dbg-content > * > .vbox {
