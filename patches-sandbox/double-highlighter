# HG changeset patch
# Parent d42fcb70cb22bb2c43c18b3f687e36e89652b0e0
Bug 708643 - If Firebug is installed, using "Inspect Element" twice results in 2 inspectors, one uncloseable.

diff --git a/browser/devtools/highlighter/inspector.jsm b/browser/devtools/highlighter/inspector.jsm
--- a/browser/devtools/highlighter/inspector.jsm
+++ b/browser/devtools/highlighter/inspector.jsm
@@ -217,19 +217,21 @@ InspectorUI.prototype = {
    * start inspecting it.
    *
    * @param [optional] aNode
    *        The node to inspect.
    */
   openInspectorUI: function IUI_openInspectorUI(aNode)
   {
     // InspectorUI is already up and running. Lock a node if asked (via context).
-    if (this.isInspectorOpen && aNode) {
-      this.inspectNode(aNode);
-      this.stopInspecting();
+    if (this.isInspectorOpen) {
+      if (aNode) {
+        this.inspectNode(aNode);
+        this.stopInspecting();
+      }
       return;
     }
 
     // Observer used to inspect the specified element from content after the
     // inspector UI has been opened (via the content context menu).
     function inspectObserver(aElement) {
       Services.obs.removeObserver(boundInspectObserver,
                                   INSPECTOR_NOTIFICATIONS.OPENED,
